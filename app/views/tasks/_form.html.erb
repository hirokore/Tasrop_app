<h1>タスク作成ページ</h1>
<hr>

<%= link_to "マイタスク作成", new_custom_path, class: "btn btn-outline-primary"%>
<%= link_to "タスク作成", new_task_path, class: "btn btn-outline-primary"%>
<%= link_to "タグ作成", new_tag_path, class: "btn btn-outline-primary"%>
<br>
<hr>

<%= form_with(model: @task, local: true) do |f| %>
  <% if @task.errors.any? %>
    <div class="alert alert-dismissible alert-danger">
      <h2><%= @task.errors.count %>件のエラー発生中</h2>
      <ul>
      <% @task.errors.full_messages.each do |msg| %>
        <li><%= msg %></li>
      <% end %>
      </ul>
    </div>
  <% end %>
<% end %>

<%= form_with(model: @task, local: true) do |f| %>
  <div class="" class="">
    <label><%= f.label "タスク名" %></label><br>
    <%= f.text_field :name, size: "30", id: "custom_title",  placeholder: "タスク名を決めよう！" %>
  </div>
  <div class="" class="">
    <label><%= f.label "タスク内容" %></label><br>
    <%= f.text_field :detail, size: "30", id: "custom_task",  placeholder: "何をすれば達成するかを書こう！" %>
  </div>
  <div class="" class="">
    <label><%= f.label "タスク工数" %></label><br>
    <%= f.text_field :task_time, size: "30", id: "custom_time",  placeholder: "１日どれくらい？" %>時間
  </div>
  <div class="">
    <label><%= f.label "タグ" %></label><br>
    <% @tags.each do |tag| %>
      <%= f.check_box :tag_ids, { multiple: true, checked: @task.tag_ids.include?(tag.id), disabled: tag[:disabled], include_hidden: false }, tag[:id] %>
    <%= f.label :tag_ids, tag.name, value: tag[:id] %>
    <% end %>  
  </div><br>
  <div class="">
    <%= f.submit "タスク設定" %>
  </div>  
<% end %>
<br>
<div class="">
  <%= link_to "戻る", customs_path%>
</div>
<br>
